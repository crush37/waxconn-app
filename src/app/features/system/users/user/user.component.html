<app-page-header [title]="title" [subTitle]="subTitle">
  <ng-template #actions>
    <app-back-button></app-back-button>
    <app-submit-button *ngIf="!id" label="Send Invite" [formGroup]="formGroup" [goTo]="'system/users'"></app-submit-button>
    <app-submit-button *ngIf="id" [formGroup]="formGroup" [goTo]="'system/users'" [reload]="true"></app-submit-button>
  </ng-template>
</app-page-header>

<div *ngIf="loading" class="py-3 px-4 text-primary-400">Loading..</div>

<form *ngIf="!loading" [formGroup]="formGroup" autocomplete="off">
  <div class="grid grid-cols-3 gap-4">
    <!--  Left Side -->
    <div class="col-span-full lg:col-span-2 order-last lg:order-first">
      <!--  General Settings -->
      <mat-card class="grid grid-cols-2 gap-x-4 mb-4">
        <div class="col-span-full">
          <h3 class="inline-flex">General</h3>
          <mat-divider></mat-divider>
        </div>
        <div class="col-span-full pt-4">
          <mat-form-field appearance="outline">
            <mat-label> Role</mat-label>
            <mat-select formControlName="role" required>
              <mat-option value="admin"> Admin</mat-option>
              <mat-option value="staff"> Staff</mat-option>
            </mat-select>
          </mat-form-field>
        </div>
        <div class="col-span-1">
          <mat-form-field appearance="outline">
            <mat-label> First name</mat-label>
            <input formControlName="firstName" matInput required type="text">
          </mat-form-field>
        </div>
        <div class="col-span-1">
          <mat-form-field appearance="outline">
            <mat-label> Last name</mat-label>
            <input formControlName="lastName" matInput required type="text">
          </mat-form-field>
        </div>
        <div class="col-span-1">
          <mat-form-field appearance="outline">
            <mat-label> Email</mat-label>
            <input formControlName="email" matInput required type="text">
          </mat-form-field>
        </div>
        <div class="col-span-1">
          <mat-form-field appearance="outline">
            <mat-label> Phone</mat-label>
            <input formControlName="phone" matInput type="text">
          </mat-form-field>
        </div>
      </mat-card>
    </div>

    <!--  Right Side -->
    <div class="col-span-full lg:col-span-1 order-first lg:order-last">
      <!--  Credentials -->
      <mat-card class="grid grid-cols-1 gap-4 mb-4">
        <div class="col-span-full">
          <h3 class="inline-flex">Email Notifications</h3>
          <mat-divider></mat-divider>
        </div>
        <div class="col-span-full">
          <p><strong>Orders</strong></p>
          <ul>
            <li><mat-checkbox formControlName="newOrderNotification">New Orders</mat-checkbox></li>
            <li><mat-checkbox formControlName="paidOrderNotification">Paid Orders</mat-checkbox></li>
          </ul>
        </div>
      </mat-card>
    </div>

  </div>
</form>
